## 项目技术选型

### 1. 后端技术栈：FastAPI (Python) + SQL Server

*   **FastAPI**: 选择 FastAPI 作为后端框架，主要基于以下考量：
    *   **高性能**: 基于 Starlette (用于构建 ASGI 应用) 和 Pydantic (用于数据验证和序列化)，提供与 NodeJS 和 Go 相媲美的高性能。
    *   **开发效率**: 自动生成交互式 API 文档 (Swagger UI 和 ReDoc)，显著提高开发和联调效率。
    *   **易于使用**: 代码结构清晰，易于学习和使用，降低开发门槛。
    *   **现代 Python 特性**: 充分利用 Python 3.6+ 的类型提示，提供强大的编辑支持和代码自动补全。
    *   **异步支持**: 原生支持异步请求处理，适合高并发场景。

*   **SQL Server**: 选择 SQL Server 作为数据库，主要基于您方案中的要求，并考虑其在企业级应用中的稳定性和功能。
    *   **成熟稳定**: 广泛应用于关键业务系统，提供可靠的数据存储和管理。
    *   **强大的存储过程和触发器**: 支持复杂的业务逻辑在数据库层面实现，有助于保障数据完整性和一致性（如库存管理、信用分更新）。
    *   **安全性**: 提供丰富的安全特性，保障数据安全。
    *   **管理工具**: 提供 SQL Server Management Studio (SSMS) 等强大的图形化管理工具。

*   **数据库交互**: 通过 Python 的数据库驱动 (如 `pyodbc`) 连接 SQL Server，并重点通过调用**存储过程**来实现业务逻辑。这符合您方案中"数据库先行"和在数据库层面实现复杂逻辑的原则。DAL (Data Access Layer) 层将负责封装存储过程的调用。

### 2. 数据库设计理念：强调存储过程与触发器

*   项目数据库设计强调将核心业务逻辑（如订单创建、库存扣减、信用分更新、评价后处理等）通过**存储过程**和**触发器**来实现。这样做的优势包括：
    *   **性能优化**: 存储过程在数据库端执行，减少客户端与数据库的网络往返，且数据库会对存储过程进行优化。
    *   **数据完整性**: 触发器可以在数据变更时自动执行预定义的操作，强制执行业务规则，保障数据一致性。
    *   **安全性**: 可以通过权限控制限制应用直接访问表，只能通过存储过程进行操作。
    *   **降低应用层复杂性**: 部分业务逻辑下沉到数据库，简化应用层代码。

*   详细的数据库表结构和存储过程/触发器功能说明请参考 [docs/database_design.md](./database_design.md)。

### 3. 前端技术栈：Vue.js 3 + Vuex + Element Plus

*   **Vue.js 3**: 选择 Vue.js 3 作为前端框架，主要基于其易用性、灵活性和性能。
    *   **组件化**: 便于构建可复用、模块化的 UI 组件。
    *   **响应式**: 基于 Composition API 提供更灵活强大的响应式能力。
    *   **生态系统**: 拥有丰富的第三方库和工具支持。
*   **Vuex**: 用于集中式状态管理，确保应用中各组件的状态统一性和可维护性。
*   **Element Plus**: 基于 Vue 3 的一套流行的 UI 组件库，提供丰富的、开箱即用的 UI 组件，加速前端开发。

### 4. 实时通讯：WebSocket

*   **WebSocket**: 用于实现用户间的即时消息功能 (如聊天)，提供全双工通信，相比传统 HTTP 轮询，更高效、实时性更好。

### 5. 项目构建与管理

*   **Git**: 使用 Git 进行版本控制和团队协作。
*   **Poetry (或 pip)**: 用于 Python 依赖管理。
*   **Vite**: 用于前端项目构建，提供快速的开发服务器和优化的构建输出。
*   **Docker**: 考虑使用 Docker 进行应用的容器化，便于开发、测试和部署环境的统一。

### 6. 文档与规范

*   **Markdown**: 用于编写项目文档 (如本文件、README)。
*   **EditorConfig, flake8, isort (Python)**: 用于代码格式化和静态检查，确保代码风格一致性。
*   **ESLint, Prettier (Vue.js)**: 用于前端代码格式化和静态检查。

--- 